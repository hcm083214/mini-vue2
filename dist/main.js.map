{"version":3,"file":"main.js","mappings":";;;;;;;;;;AAAa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA,kBAAe;;;;;;;;;;;ACJF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,sDAAkB;AACxC,cAAc,mBAAO,CAAC,0DAAoB;AAC1C;AACA,kBAAe;;;;;;;;;;;ACLF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,aAAa,mBAAO,CAAC,2CAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,kBAAe;AACf,0BAA0B;;;;;;;;;;;ACZb;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,6CAAS;AAC/B;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,kBAAe;;;;;;;;;;;ACVF;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,cAAc,mBAAO,CAAC,uDAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;;;;;;;;;;;AClCJ;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6CAAc;AACnC,aAAa,mBAAO,CAAC,6CAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;AC7DY;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,WAAW;;;;;;;;;;;ACpBE;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,GAAG,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;;;;;;;;;;ACtBD;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,mBAAO,CAAC,yCAAc;AACpC,kBAAe;;;;;;;UCHf;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACN2B;AAC3B;AACA,eAAe,8CAAG;AAClB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD,U","sources":["webpack://mini-vue2/./src/core/global-api/index.ts","webpack://mini-vue2/./src/core/index.ts","webpack://mini-vue2/./src/core/instance/index.ts","webpack://mini-vue2/./src/core/instance/init.ts","webpack://mini-vue2/./src/core/instance/state.ts","webpack://mini-vue2/./src/core/observer/index.ts","webpack://mini-vue2/./src/core/util/lang.ts","webpack://mini-vue2/./src/core/util/util.ts","webpack://mini-vue2/./src/index.ts","webpack://mini-vue2/webpack/bootstrap","webpack://mini-vue2/webpack/runtime/make namespace object","webpack://mini-vue2/./src/test/test.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction initGlobalAPI(Vue) {\r\n}\r\nexports.default = initGlobalAPI;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar index_1 = require(\"./instance/index\");\r\nvar index_2 = require(\"./global-api/index\");\r\n(0, index_2.default)(index_1.default);\r\nexports.default = index_1.default;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar init_1 = require(\"./init\");\r\nvar Vue = /** @class */ (function () {\r\n    function Vue(options) {\r\n        this._init(options);\r\n    }\r\n    Vue.prototype._init = function (options) { };\r\n    ;\r\n    return Vue;\r\n}());\r\nexports.default = Vue;\r\n(0, init_1.default)(Vue); // 定义\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar state_1 = require(\"./state\");\r\nfunction initMixin(Vue) {\r\n    Vue.prototype._init = function (options) {\r\n        var vm = this;\r\n        vm.$options = options;\r\n        (0, state_1.initState)(vm); //数据初始化响应式\r\n    };\r\n}\r\nexports.default = initMixin;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initState = void 0;\r\nvar index_1 = require(\"../observer/index\");\r\nfunction proxy(source, sourceKey, key) {\r\n    Object.defineProperty(source, key, {\r\n        enumerable: true,\r\n        configurable: true,\r\n        get: function () {\r\n            console.log('proxy --> get');\r\n            return this[sourceKey][key];\r\n        },\r\n        set: function (newVal) {\r\n            console.log('proxy --> set');\r\n            this[sourceKey][key] = newVal;\r\n        }\r\n    });\r\n}\r\nfunction initData(vm) {\r\n    var data = vm.$options.data;\r\n    //给实例对象设置代理，能从 data 中访问数据,\r\n    // eg: vm.key = vm._data.key = data.key\r\n    data = vm._data = data;\r\n    var keys = Object.keys(data);\r\n    for (var i = 0; i < keys.length; i++) {\r\n        var key = keys[i];\r\n        proxy(vm, \"_data\", key);\r\n    }\r\n    // 调用 observe 函数进行数据响应化\r\n    (0, index_1.observe)(data);\r\n}\r\nfunction initState(vm) {\r\n    initData(vm);\r\n}\r\nexports.initState = initState;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.observe = void 0;\r\n/*\r\n * @Author: 黄灿民\r\n * @Date: 2021-12-15 15:25:10\r\n * @LastEditTime: 2021-12-17 12:37:16\r\n * @LastEditors: 黄灿民\r\n * @Description:\r\n * @FilePath: \\mini-vue2\\src\\core\\observer\\index.ts\r\n */\r\nvar lang_1 = require(\"../util/lang\");\r\nvar util_1 = require(\"../util/util\");\r\nfunction observe(data) {\r\n    console.log(\"🚀 ~ file: index.ts ~ line 18 ~ observe ~ isObject(data)\", data, (0, util_1.isObject)(data));\r\n    if (!(0, util_1.isObject)(data))\r\n        return;\r\n    var ob;\r\n    // 观察者若存在直接返回，不存在则创建新的实例\r\n    if ((0, util_1.hasOwn)(data, '__ob__') && data.__ob__ instanceof Observer) {\r\n        ob = data.__ob__;\r\n    }\r\n    else {\r\n        ob = new Observer(data);\r\n    }\r\n    return ob;\r\n}\r\nexports.observe = observe;\r\nfunction defineReactive(obj, key, value) {\r\n    arguments.length === 2 && (value = obj[key]);\r\n    observe(value);\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: function () {\r\n            console.log(\"🚀 ~ file: index.ts ~ line 32 ~ get ~ get\", value);\r\n            return value;\r\n        },\r\n        set: function (newVal) {\r\n            console.log(\"🚀 ~ file: index.ts ~ line 36 ~ set ~ set\", value, newVal);\r\n            this.value = newVal;\r\n            observe(newVal);\r\n        }\r\n    });\r\n}\r\nvar Observer = /** @class */ (function () {\r\n    function Observer(value) {\r\n        this.value = value;\r\n        // 给数据贴上 __ob__ 属性，值为 Observer 实例，如果有 __ob__ 属性，则不再 observe\r\n        // 这边有个细节，enumerable 需要设置为 false，防止遍历 __ob__ 里面的属性进行响应化操作导致死循环\r\n        (0, lang_1.def)(value, \"__ob__\", this);\r\n        //对每个数据进行响应化\r\n        this.walk(value);\r\n    }\r\n    Observer.prototype.walk = function (obj) {\r\n        var keys = Object.keys(obj);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            defineReactive(obj, keys[i]);\r\n        }\r\n    };\r\n    return Observer;\r\n}());\r\n","\"use strict\";\r\n/*\r\n * @Author: 黄灿民\r\n * @Date: 2021-12-16 11:59:24\r\n * @LastEditTime: 2021-12-17 12:03:58\r\n * @LastEditors: 黄灿民\r\n * @Description:\r\n * @FilePath: \\mini-vue2\\src\\core\\util\\lang.ts\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.def = void 0;\r\n//定义一个对象的属性\r\nfunction def(obj, key, val, enumerable) {\r\n    Object.defineProperty(obj, key, {\r\n        enumerable: !!enumerable,\r\n        configurable: true,\r\n        writable: true,\r\n        value: val,\r\n    });\r\n}\r\nexports.def = def;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.hasOwn = exports.isObject = void 0;\r\n/*\r\n * @Author: 黄灿民\r\n * @Date: 2021-12-16 12:46:00\r\n * @LastEditTime: 2021-12-16 20:22:27\r\n * @LastEditors: 黄灿民\r\n * @Description:\r\n * @FilePath: \\mini-vue2\\src\\core\\util\\util.ts\r\n */\r\nfunction isObject(obj) {\r\n    return obj !== null && typeof obj === 'object';\r\n}\r\nexports.isObject = isObject;\r\n/**\r\n * Check whether an object has the property.\r\n */\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nfunction hasOwn(obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n}\r\nexports.hasOwn = hasOwn;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar index_1 = require(\"./core/index\");\r\nexports.default = index_1.default;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Vue from \"../index\";\r\n\r\nconst vm = new Vue({\r\n    data: {\r\n        obj: {\r\n            name: 'zs',\r\n            age: 10,\r\n        },\r\n        id: 1,\r\n        arr: [1, 2, 3]\r\n    }\r\n})\r\nvm.obj.age"],"names":[],"sourceRoot":""}